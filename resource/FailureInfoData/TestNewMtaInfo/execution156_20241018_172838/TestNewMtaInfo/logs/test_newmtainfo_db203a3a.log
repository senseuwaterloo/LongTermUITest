2024-10-18 17:30:51,880 - ERROR - Test test_newmtainfo_db203a3a failed.
2024-10-18 17:30:51,883 - ERROR - URL at failure: https://new.mta.info/
2024-10-18 17:30:51,883 - ERROR - Exception: self = <test.test_newmtainfo.TestNewMtaInfo object at 0x104cbb1f0>

    def test_newmtainfo_db203a3a(self):
        # self.driver.get("https://new.mta.info")
        self.driver.find_element(By.ID, "edit-origin").clear()
        self.driver.find_element(By.ID, "edit-origin").send_keys("brooklyn")
    
        # self.driver.find_element(By.XPATH, "//div[@id='edit-address-container']/div[1]/div[1]/div[1]/ul[1]/div[2]/li[1]").click()
        self.driver.find_element(By.XPATH, "//li[@aria-label='Brooklyn, NY, USA' and @class='ui-menu-item']").click()
    
        self.driver.find_element(By.ID, "edit-dest").clear()
        self.driver.find_element(By.ID, "edit-dest").send_keys("staten island")
    
        # self.driver.find_element(By.XPATH, "//div[@id='edit-address-container']/div[2]/div[1]/div[1]/ul[1]/div[2]/li[1]").click()
        self.driver.find_element(By.XPATH, "//li[@aria-label='Staten Island, NY, USA' and @class='ui-menu-item']").click()
    
        self.driver.find_element(By.XPATH, "//a[@id='link_tp_when']/span[2]").click()
        self.driver.find_element(By.ID, "datePickerId").click()
    
        # self.driver.find_element(By.XPATH, "//a[@id='datePickerId']/span[1]").click()
        # self.driver.find_element(By.XPATH, "//td[@id='b167910489558825']/span[1]").click()
        leave_date, arrive_date = calculate_dates_weekday_mta_format(7, 8)
        if self.driver.find_element(By.XPATH, f"//td[@aria-label='{leave_date}']") is None:
            self.driver.find_element(By.XPATH, "//td[@aria-label='Next Month' and @title='Next Month']").click()
        self.driver.find_element(By.XPATH, f"//td[@aria-label='{leave_date}']").click()
    
        self.driver.find_element(By.XPATH, "//div[./label[@for='edit-leave-arr-a']]").click()
    
        # self.driver.find_element(By.XPATH, "//select[@type='number']").clear()
        # self.driver.find_element(By.XPATH, "//select[@type='number']").select("9")
        # self.driver.find_element(By.XPATH, "//div[@id='container_tp_when']/div[3]/div[1]/div[2]/select[1]").clear()
        # self.driver.find_element(By.XPATH, "//div[@id='container_tp_when']/div[3]/div[1]/div[2]/select[1]").select("45")
        # self.driver.find_element(By.XPATH, "//div[@id='container_tp_when']/div[3]/div[1]/div[3]/select[1]").clear()
        # self.driver.find_element(By.XPATH, "//div[@id='container_tp_when']/div[3]/div[1]/div[3]/select[1]").select("AM")
        # self.driver.find_element(By.XPATH, "//a[@id='datePickerId']/span[1]").click()
        # self.driver.find_element(By.XPATH, "//td[@id='b167910497122625']/span[1]").click()
        # click to opening the calendar is not responding, possibly because the page was loading after click on Arrive by. So we need some sleep time
        # time.sleep(2)
        self.driver.find_element(By.ID, "datePickerId").click()
        if self.driver.find_element(By.XPATH, f"//td[@aria-label='{arrive_date}']") is None:
>           self.driver.find_element(By.XPATH, "//td[@aria-label='Next Month' and @title='Next Month']").click()
E           AttributeError: 'NoneType' object has no attribute 'click'

test/test_newmtainfo.py:302: AttributeError
2024-10-18 17:30:51,883 - ERROR - TimeoutException: Elements not found: xpath = //td[@aria-label='26, Saturday October 2024'] - Message: 
Stacktrace:
0   undetected_chromedriver             0x00000001056f3a58 undetected_chromedriver + 8141400
1   undetected_chromedriver             0x00000001056eb94a undetected_chromedriver + 8108362
2   undetected_chromedriver             0x0000000104f90f60 undetected_chromedriver + 397152
3   undetected_chromedriver             0x0000000104fdd1f3 undetected_chromedriver + 709107
4   undetected_chromedriver             0x0000000104fdd4f1 undetected_chromedriver + 709873
5   undetected_chromedriver             0x0000000105022cb4 undetected_chromedriver + 994484
6   undetected_chromedriver             0x00000001050017ad undetected_chromedriver + 858029
7   undetected_chromedriver             0x00000001050200ce undetected_chromedriver + 983246
8   undetected_chromedriver             0x0000000105001523 undetected_chromedriver + 857379
9   undetected_chromedriver             0x0000000104fd0012 undetected_chromedriver + 655378
10  undetected_chromedriver             0x0000000104fd0fee undetected_chromedriver + 659438
11  undetected_chromedriver             0x00000001056b87c0 undetected_chromedriver + 7899072
12  undetected_chromedriver             0x00000001056bc714 undetected_chromedriver + 7915284
13  undetected_chromedriver             0x000000010569a597 undetected_chromedriver + 7775639
14  undetected_chromedriver             0x00000001056bd19e undetected_chromedriver + 7917982
15  undetected_chromedriver             0x0000000105689874 undetected_chromedriver + 7706740
16  undetected_chromedriver             0x00000001056d9d98 undetected_chromedriver + 8035736
17  undetected_chromedriver             0x00000001056d9f56 undetected_chromedriver + 8036182
18  undetected_chromedriver             0x00000001056eb558 undetected_chromedriver + 8107352
19  libsystem_pthread.dylib             0x00007ff80ad0418b _pthread_start + 99
20  libsystem_pthread.dylib             0x00007ff80acffae3 thread_start + 15

2024-10-18 17:30:51,883 - ERROR - TimeoutException: Elements not found: xpath = //td[@aria-label='Next Month' and @title='Next Month'] - Message: 
Stacktrace:
0   undetected_chromedriver             0x00000001056f3a58 undetected_chromedriver + 8141400
1   undetected_chromedriver             0x00000001056eb94a undetected_chromedriver + 8108362
2   undetected_chromedriver             0x0000000104f90f60 undetected_chromedriver + 397152
3   undetected_chromedriver             0x0000000104fdd1f3 undetected_chromedriver + 709107
4   undetected_chromedriver             0x0000000104fdd4f1 undetected_chromedriver + 709873
5   undetected_chromedriver             0x0000000105022cb4 undetected_chromedriver + 994484
6   undetected_chromedriver             0x00000001050017ad undetected_chromedriver + 858029
7   undetected_chromedriver             0x00000001050200ce undetected_chromedriver + 983246
8   undetected_chromedriver             0x0000000105001523 undetected_chromedriver + 857379
9   undetected_chromedriver             0x0000000104fd0012 undetected_chromedriver + 655378
10  undetected_chromedriver             0x0000000104fd0fee undetected_chromedriver + 659438
11  undetected_chromedriver             0x00000001056b87c0 undetected_chromedriver + 7899072
12  undetected_chromedriver             0x00000001056bc714 undetected_chromedriver + 7915284
13  undetected_chromedriver             0x000000010569a597 undetected_chromedriver + 7775639
14  undetected_chromedriver             0x00000001056bd19e undetected_chromedriver + 7917982
15  undetected_chromedriver             0x0000000105689874 undetected_chromedriver + 7706740
16  undetected_chromedriver             0x00000001056d9d98 undetected_chromedriver + 8035736
17  undetected_chromedriver             0x00000001056d9f56 undetected_chromedriver + 8036182
18  undetected_chromedriver             0x00000001056eb558 undetected_chromedriver + 8107352
19  libsystem_pthread.dylib             0x00007ff80ad0418b _pthread_start + 99
20  libsystem_pthread.dylib             0x00007ff80acffae3 thread_start + 15

