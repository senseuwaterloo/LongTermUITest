2024-08-06 22:29:57,257 - ERROR - Test test_marriott_06a6d90b failed.
2024-08-06 22:29:57,260 - ERROR - URL at failure: https://www.marriott.com/search/findHotels.mi?fromToDate_submit=09/08/2024&fromDate=09/05/2024&toDate=09/08/2024&toDateDefaultFormat=09/08/2024&fromDateDefaultFormat=09/05/2024&flexibleDateSearch=false&t-start=09/05/2024&t-end=09/08/2024&lengthOfStay=3&childrenCountBox=1+Children+Per+Room&childrenCount=1&childrenAges=3&clusterCode=none&useRewardsPoints=false&marriottBrands=&isAdvanceSearch=false&recordsPerPage=20&destinationAddress.latitude=43.0895577&isInternalSearch=true&vsInitialRequest=false&searchType=InCity&destinationAddress.stateProvinceDisplayName=ON&countryName=CA&destinationAddress.stateProvince=ON&searchRadius=50&singleSearchAutoSuggest=Unmatched&for-hotels-nearme=Near&destinationAddress.country=CA&destinationAddress.address=Niagara+Falls,+ON,+Canada&collapseAccordian=is-hidden&singleSearch=true&destinationAddress.secondaryText=ON,+Canada&destinationAddress.city=Niagara+Falls&destinationAddress.mainText=Niagara+Falls&isTransient=true&destinationAddress.longitude=-79.0849436&initialRequest=false&flexibleDateSearchRateDisplay=false&isSearch=true&isRateCalendar=false&destinationAddress.destination=Niagara+Falls,+ON,+Canada&isHideFlexibleDateCalendar=false&roomCountBox=2+Room&roomCount=2&guestCountBox=3+Adult+Per+Room&numAdultsPerRoom=3&view=list#/0/
2024-08-06 22:29:57,260 - ERROR - Exception: self = <test.test_marriott.TestMarriott object at 0x1052631c0>

    def test_marriott_06a6d90b(self):
        # self.driver.get("https://www.marriott.com")
        # self.driver.find_element(By.ID, "1681035762615-search-destination").clear()
        # self.driver.find_element(By.ID, "1681035762615-search-destination").send_keys("NIAGRA FALLS")
        self.driver.find_element(By.ID, "downshift-0-input").clear()
        self.driver.find_element(By.ID, "downshift-0-input").send_keys("NIAGRA FALLS")
    
        # self.driver.find_element(By.XPATH, "//li[@id='1681035835783-search-destination-option-0']/p[1]").click()
        self.driver.find_element(By.ID, "downshift-0-item-0").click()
    
        # self.driver.find_element(By.XPATH, "//form[@id='1681035840958-find-a-hotel-homePage-form']/div[1]/div[1]/div[1]/div[2]/div[1]/button[1]/span[2]").click()
        # self.driver.find_element(By.XPATH, "//form[@id='1681035853756-find-a-hotel-homePage-form']/div[1]/div[1]/div[1]/div[2]/div[1]/div[1]/div[2]/div[1]/div[1]/div[1]/div[2]/div[2]/div[3]/div[3]/div[4]/span[1]/span[1]").click()
        # self.driver.find_element(By.XPATH, "//form[@id='1681035861955-find-a-hotel-homePage-form']/div[1]/div[1]/div[1]/div[2]/div[1]/div[1]/div[2]/div[1]/div[1]/div[1]/div[2]/div[2]/div[3]/div[3]/div[7]/span[1]/span[1]").click()
        # self.driver.find_element(By.XPATH, "//form[@id='1681035868051-find-a-hotel-homePage-form']/div[1]/div[1]/div[1]/div[2]/div[1]/div[1]/div[3]/button[1]").click()
        self.driver.find_element(By.ID, "date-picker").click()
        start_date, end_date = calculate_dates_weekday_abbr_format(30, 33)
        self.driver.find_element(By.XPATH, f"//div[@aria-label='{start_date}' and @aria-disabled='false']/div[1]").click()
        self.driver.find_element(By.XPATH, f"//div[@aria-label='{end_date}' and @aria-disabled='false']/div[1]").click()
        self.driver.find_element(By.XPATH, "//button[@data-custom_click_track_value='Search Form Dates Module| Done button |internal']").click()
    
        # self.driver.find_element(By.XPATH, "//form[@id='1681035873889-find-a-hotel-homePage-form']/div[2]/div[1]/button[1]/span[1]").click()
        # self.driver.find_element(By.XPATH, "//form[@id='1681035873889-find-a-hotel-homePage-form']/div[2]/div[1]/div[1]/div[2]/div[1]/div[2]/button[2]/span[1]").click()
        # self.driver.find_element(By.XPATH, "//form[@id='1681035873889-find-a-hotel-homePage-form']/div[2]/div[1]/div[1]/div[2]/div[2]/div[2]/button[2]/span[1]").click()
        # self.driver.find_element(By.XPATH, "//form[@id='1681035873889-find-a-hotel-homePage-form']/div[2]/div[1]/div[1]/div[2]/div[2]/div[2]/button[2]/span[1]").click()
        # self.driver.find_element(By.XPATH, "//form[@id='1681035873889-find-a-hotel-homePage-form']/div[2]/div[1]/div[1]/div[2]/div[3]/div[2]/button[2]/span[1]").click()
        # self.driver.find_element(By.XPATH, "//form[@id='1681035873889-find-a-hotel-homePage-form']/div[2]/div[1]/div[1]/div[2]/div[5]/div[1]/div[2]/button[2]/span[1]").click()
        # self.driver.find_element(By.XPATH, "//form[@id='1681035873889-find-a-hotel-homePage-form']/div[2]/div[1]/div[1]/div[2]/div[5]/div[1]/div[2]/button[2]/span[1]").click()
        # self.driver.find_element(By.XPATH, "//form[@id='1681035873889-find-a-hotel-homePage-form']/div[2]/div[1]/div[1]/div[2]/div[5]/div[1]/div[2]/button[2]/span[1]").click()
        # self.driver.find_element(By.XPATH, "//form[@id='1681035873889-find-a-hotel-homePage-form']/div[2]/div[1]/div[1]/div[2]/div[5]/div[1]/div[2]/button[2]/span[1]").click()
        # self.driver.find_element(By.XPATH, "//form[@id='1681035873889-find-a-hotel-homePage-form']/button[1]").click()
        self.driver.find_element(By.ID, "Rooms & Guests").click()
        self.driver.find_element(By.XPATH, "//button[@custom_click_track_value='Search form | Rooms Increment button |internal']").click()
        self.driver.find_element(By.XPATH, "//button[@custom_click_track_value='Search form | Adults Increment button |internal']").click()
        self.driver.find_element(By.XPATH, "//button[@custom_click_track_value='Search form | Adults Increment button |internal']").click()
        self.driver.find_element(By.XPATH, "//button[@custom_click_track_value='Search form | Children Increment button |internal']").click()
        self.driver.find_element(By.XPATH, "//button[@custom_click_track_value='Search form | Children age Increment button |internal']").click()
        self.driver.find_element(By.XPATH, "//button[@custom_click_track_value='Search form | Children age Increment button |internal']").click()
        self.driver.find_element(By.XPATH, "//button[@custom_click_track_value='Search form | Children age Increment button |internal']").click()
        self.driver.find_element(By.XPATH, "//button[@data-custom_click_track_value='Search Form | Find Hotels |internal']").click()
    
        # can't find the below checkbox in the search result page now...
        # self.driver.find_element(By.ID, "Show rates with taxes and all fees").click()
    
        # self.driver.find_element(By.ID, "availabilityFilterToggle").click()
        self.driver.find_element(By.XPATH, "//button[@custom_click_track_value='Phoenix Search Results| Filter Selection: All Filters |internal']").click()
    
        # self.driver.find_element(By.XPATH, "//div[@id='SuggestedFilters2642']/div[1]/form[1]/div[1]/div[1]/ul[1]/li[2]/a[1]/span[1]").click()
        # self.driver.find_element(By.XPATH, "//div[@id='SuggestedFiltersdfdd']/div[1]/form[1]/div[1]/div[1]/ul[1]/li[4]/a[1]/span[1]").click()
        # self.driver.find_element(By.XPATH, "//div[@id='SearchFilter6058']/div[1]/span[5]").click()
        # self.driver.find_element(By.XPATH, "//ul[@id='price-list']/li[3]/label[1]").click()
        # self.driver.find_element(By.XPATH, "//div[@id='SearchFilter6058']/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[1]/form[1]/button[1]").click()
        # self.driver.find_element(By.XPATH, "//div[@id='PropertyRecordsSearchToolBard941']/div[1]/div[2]/span[2]/span[1]/span[1]").click()
        # self.driver.find_element(By.XPATH, "//ul[@id='sort']/li[2]").click()
        # self.driver.find_element(By.XPATH, "//div[@id='property-record-map-YYZTO']/div[1]/div[2]/div[1]/div[1]/a[1]/div[1]").click()
        # self.driver.find_element(By.XPATH, "//div[@id='tab1']/div[1]/div[1]/div[1]/div[1]/div[3]/div[1]/div[2]/div[2]/button[1]").click()
        # self.driver.find_element(By.XPATH, "//div[@id='tile-global-privacy-consent']/div[2]/div[1]/label[1]").click()
        # self.driver.find_element(By.XPATH, "//button[@name='submit' and @type='submit']").click()
        self.driver.find_element(By.XPATH, "//span[@role='switch' and ./input[@custom_click_track_value='Phoenix Search Results| Show available hotels only Selection |internal']]").click()
>       self.driver.find_element(By.XPATH, "//label[contains(text(), '100 - 200 USD')]").click()
E       AttributeError: 'NoneType' object has no attribute 'click'

test/test_marriott.py:147: AttributeError
2024-08-06 22:29:57,260 - ERROR - TimeoutException: Elements not found: xpath = //label[contains(text(), '100 - 200 USD')] - Message: 
Stacktrace:
0   undetected_chromedriver             0x00000001027aa848 undetected_chromedriver + 5179464
1   undetected_chromedriver             0x00000001027a227a undetected_chromedriver + 5145210
2   undetected_chromedriver             0x00000001023192b0 undetected_chromedriver + 389808
3   undetected_chromedriver             0x00000001023653e1 undetected_chromedriver + 701409
4   undetected_chromedriver             0x0000000102365691 undetected_chromedriver + 702097
5   undetected_chromedriver             0x00000001023a7464 undetected_chromedriver + 971876
6   undetected_chromedriver             0x00000001023877dd undetected_chromedriver + 841693
7   undetected_chromedriver             0x00000001023a4b9b undetected_chromedriver + 961435
8   undetected_chromedriver             0x0000000102387553 undetected_chromedriver + 841043
9   undetected_chromedriver             0x00000001023587f6 undetected_chromedriver + 649206
10  undetected_chromedriver             0x000000010235905e undetected_chromedriver + 651358
11  undetected_chromedriver             0x000000010276dab0 undetected_chromedriver + 4930224
12  undetected_chromedriver             0x00000001027729c6 undetected_chromedriver + 4950470
13  undetected_chromedriver             0x0000000102773095 undetected_chromedriver + 4952213
14  undetected_chromedriver             0x000000010274fe79 undetected_chromedriver + 4808313
15  undetected_chromedriver             0x0000000102773389 undetected_chromedriver + 4952969
16  undetected_chromedriver             0x00000001027417d4 undetected_chromedriver + 4749268
17  undetected_chromedriver             0x0000000102792558 undetected_chromedriver + 5080408
18  undetected_chromedriver             0x0000000102792717 undetected_chromedriver + 5080855
19  undetected_chromedriver             0x00000001027a1e5e undetected_chromedriver + 5144158
20  libsystem_pthread.dylib             0x00007ff8073d418b _pthread_start + 99
21  libsystem_pthread.dylib             0x00007ff8073cfae3 thread_start + 15

